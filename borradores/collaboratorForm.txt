import { useState } from 'react'
import useProjects from '../hooks/useProjects'

const initialForm = {
  email: ''
}

const CollaboratorForm = () => {
  const [form, setForm] = useState(initialForm)

  const { submitCollaborator } = useProjects()

  const handleChange = (e) => {
    setForm({
      email: e.target.value
    })
  }

  const handleSubmit = (e) => {
    e.preventDefault()
    submitCollaborator(form)
    setForm(initialForm)
  }

  return (
    <form
      className='mx-auto flex  w-full max-w-xl flex-col justify-center space-y-5  rounded-md bg-padding-gray p-4 py-10'
      onSubmit={(e) => handleSubmit(e)}
    >
      <h2 className='text-center text-lg font-bold text-white'>
        Buscar colaborador
      </h2>
      <div>
        <label className='block font-semibold text-white' htmlFor='email'>
          Email
        </label>
        <input
          type='text'
          id='email'
          name='email'
          placeholder='Email del colaborador...'
          className='round-md block w-full border border-gray-600 bg-transparent px-2 py-1.5 text-paragraph-color caret-paragraph-color shadow-sm outline-none placeholder:text-paragraph-color sm:text-sm sm:leading-6'
          autoComplete='off'
          required
          value={form.email}
          onChange={(e) => handleChange(e)}
        />
      </div>
      <div>
        <input
          type='submit'
          className='mt-[10px] block w-full cursor-pointer rounded-lg bg-primary-blue px-2 py-1.5 font-bold text-gray-300 shadow-sm outline-none transition-colors duration-300 placeholder:text-paragraph-color hover:bg-custom-cyan hover:text-primary-blue sm:text-sm sm:leading-6'
        />
      </div>
    </form>
  )
}

export default CollaboratorForm
